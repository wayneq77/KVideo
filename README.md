[![Upstream Sync](https://github.com/sky06walker/KVideo/actions/workflows/Github_Upstream_Sync.yml/badge.svg)](https://github.com/sky06walker/KVideo/actions/workflows/Github_Upstream_Sync.yml)

# è¦–é »èšåˆå¹³è‡º (KVideo)

![KVideo Banner](public/icon.png)

> ä¸€å€‹åŸºæ–¼ Next.js 16 æ§‹å»ºçš„ç¾ä»£åŒ–è¦–é »èšåˆæ’­æ”¾å¹³è‡ºã€‚æ¡ç”¨ç¨ç‰¹çš„ "Liquid Glass" è¨­è¨ˆèªè¨€ï¼Œæä¾›æµæš¢çš„è¦–è¦ºé«”é©—å’Œå¼·å¤§çš„è¦–é »æœç´¢åŠŸèƒ½ã€‚

**ğŸŒ åœ¨ç·šé«”é©—ï¼š[https://kvideo.pages.dev/](https://kvideo.pages.dev/)**

[![Next.js](https://img.shields.io/badge/Next.js-16.0-black?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-blue?style=for-the-badge&logo=react)](https://react.dev/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-4.0-38B2AC?style=for-the-badge&logo=tailwind-css)](https://tailwindcss.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)

## ğŸ“– é …ç›®ç°¡ä»‹

**KVideo** æ˜¯ä¸€å€‹é«˜æ€§èƒ½ã€ç¾ä»£åŒ–çš„è¦–é »èšåˆèˆ‡æ’­æ”¾æ‡‰ç”¨ï¼Œå°ˆæ³¨æ–¼æä¾›æ¥µè‡´çš„ç”¨æˆ¶é«”é©—å’Œè¦–è¦ºè¨­è¨ˆã€‚æœ¬é …ç›®åˆ©ç”¨ Next.js 16 çš„æœ€æ–°ç‰¹æ€§ï¼Œçµåˆ React 19 å’Œ Tailwind CSS v4ï¼Œæ‰“é€ äº†ä¸€å€‹æ—¢ç¾è§€åˆå¼·å¤§çš„è¦–é »ç€è¦½å¹³è‡ºã€‚

### æ ¸å¿ƒè¨­è¨ˆç†å¿µï¼šLiquid Glassï¼ˆæ¶²æ…‹ç»ç’ƒï¼‰

é …ç›®çš„è¦–è¦ºè¨­è¨ˆåŸºæ–¼ **"Liquid Glass"** è¨­è¨ˆç³»çµ±ï¼Œé€™æ˜¯ä¸€å¥—èåˆäº†ä»¥ä¸‹ç‰¹æ€§çš„ç¾ä»£åŒ– UI è¨­è¨ˆèªè¨€ï¼š

- **ç»ç’ƒæ“¬æ…‹æ•ˆæœ**ï¼šé€šé `backdrop-filter` å¯¦ç¾çš„ç£¨ç ‚åŠé€æ˜æ•ˆæœï¼Œè®“ UI å…ƒç´ å¦‚åŒçœŸå¯¦çš„ç»ç’ƒæè³ª
- **é€šç”¨æŸ”å’Œåº¦**ï¼šçµ±ä¸€ä½¿ç”¨ `rounded-2xl` å’Œ `rounded-full` å…©ç¨®åœ“è§’åŠå¾‘ï¼Œå‰µé€ å’Œè«§çš„è¦–è¦ºé«”é©—
- **å…‰å½±äº¤äº’**ï¼šæ‡¸åœå’Œèšç„¦ç‹€æ…‹ä¸‹çš„å…§ç™¼å…‰æ•ˆæœï¼Œæ¨¡æ“¬å…‰ç·šè¢«"æ•ç²"çš„ç‰©ç†ç¾è±¡
- **æµæš¢å‹•ç•«**ï¼šåŸºæ–¼ç‰©ç†çš„ `cubic-bezier` æ›²ç·šï¼Œå¯¦ç¾è‡ªç„¶çš„åŠ é€Ÿå’Œæ¸›é€Ÿéæ¸¡
- **æ·±åº¦å±¤ç´š**ï¼šæ¸…æ™°çš„ z-axis å±¤æ¬¡çµæ§‹ï¼Œå¢å¼·ç©ºé–“æ„Ÿå’Œäº¤äº’åé¥‹

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¥ æ™ºèƒ½è¦–é »æ’­æ”¾

- **HLS æµåª’é«”æ”¯æŒ**ï¼šåŸç”Ÿæ”¯æŒ HLS (.m3u8) æ ¼å¼ï¼Œæä¾›æµæš¢çš„è¦–é »æ’­æ”¾é«”é©—
- **æ™ºèƒ½ç·©å­˜æ©Ÿåˆ¶**ï¼šService Worker é©…å‹•çš„æ™ºèƒ½ç·©å­˜ç³»çµ±ï¼Œè‡ªå‹•é åŠ è¼‰å’Œç·©å­˜è¦–é »ç‰‡æ®µ
- **å¾Œè‡ºä¸‹è¼‰**ï¼šåˆ©ç”¨è§€çœ‹æ­·å²ï¼Œåœ¨å¾Œè‡ºè‡ªå‹•ä¸‹è¼‰æ­·å²è¦–é »ï¼Œç¢ºä¿é›¢ç·šä¹Ÿèƒ½è§€çœ‹
- **æ’­æ”¾æ§åˆ¶**ï¼šå®Œæ•´çš„æ’­æ”¾æ§åˆ¶åŠŸèƒ½ï¼ŒåŒ…æ‹¬é€²åº¦æ¢ã€éŸ³é‡æ§åˆ¶ã€æ’­æ”¾é€Ÿåº¦èª¿ç¯€ã€å…¨å±æ¨¡å¼ç­‰
- **ç§»å‹•ç«¯å„ªåŒ–**ï¼šå°ˆé–€çˆ²ç§»å‹•è¨­å‚™å„ªåŒ–çš„æ’­æ”¾å™¨ç•Œé¢å’Œæ‰‹å‹¢æ§åˆ¶

### ğŸ” å¤šæºä¸¦è¡Œæœç´¢

- **èšåˆæœç´¢å¼•æ“**ï¼šåŒæ™‚åœ¨å¤šå€‹è¦–é »æºä¸­ä¸¦è¡Œæœç´¢ï¼Œå¤§å¹…æå‡æœç´¢é€Ÿåº¦
- **è‡ªå®šç¾©è¦–é »æº**ï¼šæ”¯æŒæ·»åŠ ã€ç·¨è¼¯å’Œç®¡ç†è‡ªå®šç¾©è¦–é »æº
- **æ™ºèƒ½è§£æ**ï¼šçµ±ä¸€çš„è§£æå™¨ç³»çµ±ï¼Œè‡ªå‹•è™•ç†ä¸åŒæºçš„æ•¸æ“šæ ¼å¼
- **æœç´¢æ­·å²**ï¼šè‡ªå‹•ä¿å­˜æœç´¢æ­·å²ï¼Œæ”¯æŒå¿«é€Ÿé‡æ–°æœç´¢
- **çµæœæ’åº**ï¼šæ”¯æŒæŒ‰è©•åˆ†ã€æ™‚é–“ã€ç›¸é—œæ€§ç­‰å¤šç¨®æ–¹å¼æ’åºæœç´¢çµæœ

### ğŸ¬ è±†ç“£é›†æˆ

- **é›»å½± & é›»è¦–åŠ‡åˆ†é¡**ï¼šæ”¯æŒåœ¨é›»å½±å’Œé›»è¦–åŠ‡ä¹‹é–“ç„¡ç¸«åˆ‡æ›ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ä¸åŒé¡å‹çš„å½±è¦–è³‡æº
- **è©³ç´°å½±è¦–ä¿¡æ¯**ï¼šè‡ªå‹•ç²å–è±†ç“£è©•åˆ†ã€æ¼”å“¡é™£å®¹ã€åŠ‡æƒ…ç°¡ä»‹ç­‰è©³ç´°ä¿¡æ¯
- **æ¨è–¦ç³»çµ±**ï¼šåŸºæ–¼è±†ç“£æ•¸æ“šçš„ç›¸é—œæ¨è–¦
- **å°ˆæ¥­è©•åƒ¹**ï¼šå±•ç¤ºè±†ç“£ç”¨æˆ¶è©•åƒ¹å’Œå°ˆæ¥­å½±è©•

### ğŸ’¾ è§€çœ‹æ­·å²ç®¡ç†

- **è‡ªå‹•è¨˜éŒ„**ï¼šè‡ªå‹•è¨˜éŒ„è§€çœ‹é€²åº¦å’Œæ­·å²
- **æ–·é»çºŒæ’­**ï¼šå¾ä¸Šæ¬¡è§€çœ‹ä½ç½®ç¹¼çºŒæ’­æ”¾
- **æ­·å²ç®¡ç†**ï¼šæ”¯æŒåˆªé™¤å–®æ¢æ­·å²æˆ–æ¸…ç©ºå…¨éƒ¨æ­·å²
- **éš±ç§ä¿è­·**ï¼šæ‰€æœ‰æ•¸æ“šå­˜å„²åœ¨æœ¬åœ°ï¼Œä¸ä¸Šå‚³åˆ°æœå‹™å™¨

### ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

- **å…¨ç«¯é©é…**ï¼šå®Œç¾æ”¯æŒæ¡Œé¢ã€å¹³æ¿å’Œç§»å‹•è¨­å‚™
- **ç§»å‹•å„ªå…ˆ**ï¼šå°ˆé–€çš„ç§»å‹•ç«¯çµ„ä»¶å’Œäº¤äº’è¨­è¨ˆ
- **è§¸æ‘¸å„ªåŒ–**ï¼šé‡å°è§¸æ‘¸å±å„ªåŒ–çš„æ‰‹å‹¢å’Œäº¤äº’

### ğŸŒ™ ä¸»é¡Œç³»çµ±

- **æ·±è‰²/æ·ºè‰²æ¨¡å¼**ï¼šæ”¯æŒç³»çµ±ç´šä¸»é¡Œåˆ‡æ›
- **å‹•æ…‹ä¸»é¡Œ**ï¼šåŸºæ–¼ CSS Variables çš„å‹•æ…‹ä¸»é¡Œç³»çµ±
- **ç„¡ç¸«éæ¸¡**ï¼šä¸»é¡Œåˆ‡æ›æ™‚çš„å¹³æ»‘éæ¸¡å‹•ç•«

### âŒ¨ï¸ ç„¡éšœç¤™è¨­è¨ˆ

- **éµç›¤å°èˆª**ï¼šå®Œæ•´çš„éµç›¤å¿«æ·éµæ”¯æŒ
- **ARIA æ¨™ç±¤**ï¼šç¬¦åˆ WCAG 2.2 æ¨™æº–çš„ç„¡éšœç¤™å¯¦ç¾
- **èªç¾©åŒ– HTML**ï¼šä½¿ç”¨èªç¾©åŒ–æ¨™ç±¤æå‡å¯è¨ªå•æ€§
- **é«˜å°æ¯”åº¦**ï¼šç¢ºä¿ 4.5:1 çš„æ–‡å­—å°æ¯”åº¦

### ğŸ’ é«˜ç´šæ¨¡å¼

- **ç¨ç«‹å…¥å£**ï¼šåœ¨ç€è¦½å™¨åœ°å€æ¬„ç›´æ¥è¼¸å…¥ `/premium` å³å¯é€²å…¥ç¨ç«‹çš„é«˜ç´šè¦–é »å°ˆå€
- **å…§å®¹éš”é›¢**ï¼šé«˜ç´šå…§å®¹èˆ‡æ™®é€šå…§å®¹å®Œå…¨ç‰©ç†éš”é›¢ï¼Œäº’ä¸å¹²æ“¾
- **å°ˆå±¬è¨­ç½®**ï¼šæ“æœ‰ç¨ç«‹çš„å…§å®¹æºç®¡ç†å’ŒåŠŸèƒ½è¨­ç½®

### ğŸ›¡ï¸ å»£å‘Šéæ¿¾
- **å¤šæ¨¡å¼é¸æ“‡**ï¼šæ”¯æŒé—œé–‰ã€é—œéµè©éæ¿¾ã€æ™ºèƒ½å•“ç™¼å¼éæ¿¾(Beta)å’Œæ¿€é€²æ¨¡å¼ã€‚
- **UI é›†æˆ**ï¼šåœ¨æ’­æ”¾å™¨è¨­ç½®èœå–®ä¸­ç›´æ¥åˆ‡æ›æ¨¡å¼ï¼Œå¯¦æ™‚ç”Ÿæ•ˆã€‚
- **è‡ªå®šç¾©é—œéµè©**ï¼šæ”¯æŒé€šéç’°å¢ƒè®Šé‡æ“´å±•éæ¿¾é—œéµè©ã€‚
- **é«˜æ€§èƒ½**ï¼šåŸºæ–¼æµå¼è™•ç†ï¼Œå°æ’­æ”¾åŠ è¼‰é€Ÿåº¦å¹¾ä¹ç„¡å½±éŸ¿ã€‚

## ğŸ” éš±ç§ä¿è­·

æœ¬æ‡‰ç”¨æ³¨é‡ç”¨æˆ¶éš±ç§ï¼š

- **æœ¬åœ°å­˜å„²**ï¼šæ‰€æœ‰æ•¸æ“šå­˜å„²åœ¨æœ¬åœ°ç€è¦½å™¨ä¸­
- **ç„¡æœå‹™å™¨æ•¸æ“š**ï¼šä¸æ”¶é›†æˆ–ä¸Šå‚³ä»»ä½•ç”¨æˆ¶æ•¸æ“š
- **è‡ªå®šç¾©æº**ï¼šç”¨æˆ¶å¯è‡ªè¡Œé…ç½®è¦–é »æº

## ğŸ”’ å¯†ç¢¼è¨ªå•æ§åˆ¶

KVideo æ”¯æŒå…©ç¨®å¯†ç¢¼ä¿è­·æ–¹å¼ï¼š

### æ–¹å¼ä¸€ï¼šæœ¬åœ°ä¿å­˜å¯†ç¢¼

åœ¨è¨­ç½®é é¢ä¸­å•“ç”¨å¯†ç¢¼è¨ªå•ï¼Œä¸¦æ·»åŠ å¯†ç¢¼ï¼š

- **è¨­å‚™ç¨ç«‹**ï¼šåƒ…åœ¨ç•¶å‰ç€è¦½å™¨/è¨­å‚™æœ‰æ•ˆ
- **å¯ç®¡ç†**ï¼šå¯éš¨æ™‚æ·»åŠ æˆ–åˆªé™¤
- **å¤šå¯†ç¢¼æ”¯æŒ**ï¼šå¯è¨­ç½®å¤šå€‹æœ‰æ•ˆå¯†ç¢¼

### æ–¹å¼äºŒï¼šç’°å¢ƒè®Šé‡å¯†ç¢¼ï¼ˆæ¨è–¦ç”¨æ–¼éƒ¨ç½²ï¼‰

é€šé `ACCESS_PASSWORD` ç’°å¢ƒè®Šé‡è¨­ç½®å…¨å±€å¯†ç¢¼ï¼š

**Docker éƒ¨ç½²ï¼š**

```bash
docker run -d -p 3000:3000 -e ACCESS_PASSWORD=your_premium_password --name kvideo kuekhaoyang/kvideo:latest
```

**Vercel éƒ¨ç½²ï¼š**

åœ¨ Vercel é …ç›®è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šé‡ï¼š
- è®Šé‡åï¼š`ACCESS_PASSWORD`
- è®Šé‡å€¼ï¼šä½ çš„å¯†ç¢¼

**ç‰¹é»ï¼š**
- **å…¨å±€ç”Ÿæ•ˆ**ï¼šæ‰€æœ‰ç”¨æˆ¶éƒ½éœ€è¦æ­¤å¯†ç¢¼æ‰èƒ½è¨ªå•
- **ç„¡æ³•åœ¨ç•Œé¢åˆªé™¤**ï¼šåªèƒ½é€šéä¿®æ”¹ç’°å¢ƒè®Šé‡æ›´æ”¹
- **èˆ‡æœ¬åœ°å¯†ç¢¼å…¼å®¹**ï¼šå…©ç¨®å¯†ç¢¼éƒ½å¯ä»¥è§£é–æ‡‰ç”¨
- **å¯†ç¢¼æŒä¹…åŒ–**ï¼šæ”¯æŒé€šé `PERSIST_PASSWORD` ç’°å¢ƒè®Šé‡æ§åˆ¶æ˜¯å¦åœ¨ç•¶å‰è¨­å‚™ä¸Šè¨˜ä½å¯†ç¢¼ã€‚

### æ–¹å¼ä¸‰ï¼šå¯†ç¢¼æŒä¹…åŒ–è¨­ç½®ï¼ˆENVï¼‰

é€šé `PERSIST_PASSWORD` ç’°å¢ƒè®Šé‡ï¼Œä½ å¯ä»¥æ§åˆ¶ç”¨æˆ¶åœ¨è¼¸å…¥æ­£ç¢ºå¯†ç¢¼å¾Œï¼Œæ˜¯å¦éœ€è¦åœ¨ä¸‹æ¬¡æ‰“é–‹æ™‚é‡æ–°è¼¸å…¥ã€‚

| è®Šé‡å | é¸é … | èªªæ˜ | é»˜èªå€¼ |
|--------|------|------|--------|
| `PERSIST_PASSWORD` | `true` / `false` | æ˜¯å¦åœ¨æœ¬åœ°ç€è¦½å™¨æŒä¹…åŒ–ä¿å­˜è§£é–ç‹€æ…‹ã€‚è¨­ç½®çˆ² `true` æ™‚ï¼Œç”¨æˆ¶åªéœ€è¼¸å…¥ä¸€æ¬¡å¯†ç¢¼ï¼Œå¾ŒçºŒè¨ªå•ç„¡éœ€å†æ¬¡è¼¸å…¥ã€‚ | `true` |

> [!NOTE]
> æ­¤åŠŸèƒ½åƒ…åœ¨è¨­ç½®äº† `ACCESS_PASSWORD` æ™‚çº”æœƒç”Ÿæ•ˆã€‚å¦‚æœæ²’æœ‰è¨­ç½®ç’°å¢ƒå¯†ç¢¼ï¼Œæ­¤é¸é …å°‡è¢«å¿½ç•¥ã€‚

## ğŸ¨ ç«™é»åç¨±è‡ªå®šç¾©é…ç½®

é€šéç’°å¢ƒè®Šé‡å¯ä»¥è‡ªå®šç¾©ç«™é»åç¨±ã€æ¨™é¡Œå’Œæè¿°ï¼Œç„¡éœ€ä¿®æ”¹æºä»£ç¢¼ã€‚

### å¯ç”¨ç’°å¢ƒè®Šé‡ï¼š

| è®Šé‡å | èªªæ˜ | é»˜èªå€¼ |
|--------|------|--------|
| `NEXT_PUBLIC_SITE_TITLE` | ç€è¦½å™¨æ¨™ç±¤é æ¨™é¡Œ | `è¦–é »èšåˆå¹³è‡º - KVideo` |
| `NEXT_PUBLIC_SITE_DESCRIPTION` | ç«™é»æè¿° | `å°ˆå±¬è¦–é »èšåˆæ’­æ”¾å¹³è‡ºï¼Œå…·å‚™ç¾è§€çš„ Liquid Glass UI` |
| `NEXT_PUBLIC_SITE_NAME` | ç«™é»é ­éƒ¨åç¨± | `è¦–é »èšåˆå¹³è‡º` |
| `PERSIST_PASSWORD` | å¯†ç¢¼æŒä¹…åŒ– | `true` |

### é…ç½®ç¤ºä¾‹ï¼š

**Vercel éƒ¨ç½²ï¼š**
åœ¨ Vercel é …ç›®è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šé‡ï¼š

- è®Šé‡åï¼š`NEXT_PUBLIC_SITE_NAME`
- è®Šé‡å€¼ï¼š`æˆ‘çš„è¦–é »å¹³è‡º`

**Cloudflare Pages éƒ¨ç½²ï¼š**
åœ¨ Cloudflare Pages é …ç›®è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šé‡ï¼š
- è®Šé‡åï¼š`NEXT_PUBLIC_SITE_NAME`
- è®Šé‡å€¼ï¼š`æˆ‘çš„è¦–é »å¹³è‡º`

**Docker éƒ¨ç½²ï¼š**
```bash
docker run -d -p 3000:3000 \
  -e NEXT_PUBLIC_SITE_NAME="æˆ‘çš„è¦–é »å¹³è‡º" \
  -e NEXT_PUBLIC_SITE_TITLE="æˆ‘çš„è¦–é » - èšåˆæ’­æ”¾å¹³è‡º" \
  -e NEXT_PUBLIC_SITE_DESCRIPTION="å°ˆå±¬è¦–é »èšåˆæ’­æ”¾å¹³è‡º" \
  --name kvideo kuekhaoyang/kvideo:latest
```

**æœ¬åœ°é–‹ç™¼ï¼š**
åœ¨é …ç›®æ ¹ç›®éŒ„å‰µå»º `.env.local` æ–‡ä»¶ï¼š
```env
NEXT_PUBLIC_SITE_NAME=æˆ‘çš„è¦–é »å¹³è‡º
NEXT_PUBLIC_SITE_TITLE=æˆ‘çš„è¦–é » - èšåˆæ’­æ”¾å¹³è‡º
NEXT_PUBLIC_SITE_DESCRIPTION=å°ˆå±¬è¦–é »èšåˆæ’­æ”¾å¹³è‡º
```

## ğŸ“¦ è‡ªå‹•è¨‚é–±æºé…ç½®

å¯ä»¥é€šéç’°å¢ƒè®Šé‡ `NEXT_PUBLIC_SUBSCRIPTION_SOURCES` è‡ªå‹•é…ç½®è¨‚é–±æºï¼Œæ‡‰ç”¨å•“å‹•æ™‚æœƒè‡ªå‹•åŠ è¼‰ä¸¦è¨­ç½®çˆ²è‡ªå‹•æ›´æ–°ã€‚

**æ ¼å¼ï¼š** JSON æ•¸çµ„å­—ç¬¦ä¸²ï¼ŒåŒ…å« `name` å’Œ `url` å­—æ®µã€‚

**ç¤ºä¾‹ï¼š**

```bash
NEXT_PUBLIC_SUBSCRIPTION_SOURCES='[{"name":"æ¯æ—¥æ›´æ–°æº","url":"https://example.com/api.json"},{"name":"å‚™ç”¨æº","url":"https://backup.com/api.json"}]'
```

**Docker éƒ¨ç½²ï¼š**

```bash
docker run -d -p 3000:3000 -e NEXT_PUBLIC_SUBSCRIPTION_SOURCES='[{"name":"MySource","url":"..."}]' --name kvideo kuekhaoyang/kvideo:latest
```

**Vercel éƒ¨ç½²ï¼š**

åœ¨ Vercel é …ç›®è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šé‡ï¼š
- è®Šé‡åï¼š`NEXT_PUBLIC_SUBSCRIPTION_SOURCES`
- è®Šé‡å€¼ï¼š`[{"name":"...","url":"..."}]`

**Cloudflare Pages éƒ¨ç½²ï¼š**

åœ¨ Cloudflare Pages é …ç›®è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šé‡ï¼š
- è®Šé‡åï¼š`NEXT_PUBLIC_SUBSCRIPTION_SOURCES`
- è®Šé‡å€¼ï¼š`[{"name":"...","url":"..."}]`

## ğŸ“ è‡ªå®šç¾©æº JSON æ ¼å¼

å¦‚æœä½ æƒ³å‰µå»ºè‡ªå·±çš„è¨‚é–±æºæˆ–æ‰¹é‡å°å…¥æºï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ JSON æ ¼å¼ã€‚

**åŸºæœ¬çµæ§‹ï¼š**

å¯ä»¥æ˜¯å–®å€‹å°è±¡æ•¸çµ„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒ…å« `sources` æˆ– `list` å­—æ®µçš„å°è±¡ã€‚

**æºå°è±¡å­—æ®µèªªæ˜ï¼š**

| å­—æ®µ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| `id` | string | æ˜¯ | å”¯ä¸€æ¨™è­˜ç¬¦ï¼Œå»ºè­°ä½¿ç”¨è‹±æ–‡ |
| `name` | string | æ˜¯ | é¡¯ç¤ºåç¨± |
| `baseUrl` | string | æ˜¯ | API åœ°å€ (ä¾‹å¦‚: `https://example.com/api.php/provide/vod`) |
| `group` | string | å¦ | åˆ†çµ„ï¼Œå¯é¸å€¼: `"normal"` (é»˜èª) æˆ– `"premium"` |
| `enabled` | boolean | å¦ | æ˜¯å¦å•“ç”¨ï¼Œé»˜èªçˆ² `true` |
| `priority` | number | å¦ | å„ªå…ˆç´šï¼Œæ•¸å­—è¶Šå°å„ªå…ˆç´šè¶Šé«˜ï¼Œé»˜èªçˆ² 1 |

**ç¤ºä¾‹ JSONï¼š**

```json
[
  {
    "id": "my_source_1",
    "name": "æˆ‘çš„ç²¾é¸æº",
    "baseUrl": "https://api.example.com/vod",
    "group": "normal",
    "priority": 1
  },
  {
    "id": "premium_source_1",
    "name": "ç‰¹æ®Šè³‡æº",
    "baseUrl": "https://api.premium-source.com/vod",
    "group": "premium",
    "enabled": true
  }
]
```

### âš ï¸ é‡è¦çš„å€åˆ¥èªªæ˜ï¼šè¨‚é–±æº vs è¦–é »æº

**é€™æ˜¯ä¸€å€‹å¸¸è¦‹çš„èª¤å€ï¼Œè«‹ä»”ç´°é–±è®€ï¼š**

- **è¦–é »æº (Source)**ï¼š
  - æŒ‡å‘å–®å€‹ CMS/App API æ¥å£
  - ä¾‹å¦‚ï¼š`https://api.example.com/vod`
  - é€™ç¨®éˆæ¥**ä¸èƒ½**ç›´æ¥ä½œçˆ²"è¨‚é–±"æ·»åŠ 
  - åªèƒ½åœ¨"è‡ªå®šç¾©æºç®¡ç†"ä¸­ä½œçˆ²å–®å€‹æºæ·»åŠ 

- **è¨‚é–±æº (Subscription)**ï¼š
  - æŒ‡å‘ä¸€å€‹ **JSON æ–‡ä»¶**ï¼ˆå¦‚ä¸Šé¢çš„ç¤ºä¾‹ï¼‰çš„ URL
  - é€™å€‹ JSON æ–‡ä»¶è£åŒ…å«äº†ä¸€å€‹æˆ–å¤šå€‹è¦–é »æºçš„åˆ—è¡¨
  - ä¾‹å¦‚ï¼š`https://mysite.com/kvideo-sources.json`
  - é€™æ˜¯ä¸€å€‹**é…ç½®æ–‡ä»¶**çš„éˆæ¥ï¼Œä¸æ˜¯è¦–é » API çš„éˆæ¥
  - åªæœ‰é€™ç¨®è¿”å› JSON åˆ—è¡¨çš„éˆæ¥æ‰èƒ½åœ¨"è¨‚é–±ç®¡ç†"ä¸­æ·»åŠ 

> **ç°¡å–®ä¾†èªª**ï¼šå¦‚æœä½ åªæœ‰ä¸€å€‹ m3u8 æˆ– API æ¥å£åœ°å€ï¼Œè«‹å»"è‡ªå®šç¾©æº"æ·»åŠ ã€‚å¦‚æœä½ æœ‰ä¸€å€‹åŒ…å«å¤šå€‹æºçš„ JSON æ–‡ä»¶éˆæ¥ï¼Œè«‹å»"è¨‚é–±ç®¡ç†"æ·»åŠ ã€‚

## ğŸ›  æŠ€è¡“æ£§

### å‰ç«¯æ ¸å¿ƒ

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **[Next.js](https://nextjs.org/)** | 16.0.3 | React æ¡†æ¶ï¼Œä½¿ç”¨ App Router |
| **[React](https://react.dev/)** | 19.2.0 | UI çµ„ä»¶åº« |
| **[TypeScript](https://www.typescriptlang.org/)** | 5.x | é¡å‹å®‰å…¨çš„ JavaScript |
| **[Tailwind CSS](https://tailwindcss.com/)** | 4.x | å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶ |
| **[Zustand](https://github.com/pmndrs/zustand)** | 5.0.2 | è¼•é‡ç´šç‹€æ…‹ç®¡ç† |

### é–‹ç™¼å·¥å…·

- **ESLint 9**ï¼šä»£ç¢¼è³ªé‡æª¢æŸ¥
- **PostCSS 8**ï¼šCSS è™•ç†å™¨
- **Vercel Analytics**ï¼šæ€§èƒ½ç›£æ§å’Œåˆ†æ

### æ¶æ§‹ç‰¹é»

- **App Router**ï¼šNext.js 13+ çš„æ–°è·¯ç”±ç³»çµ±ï¼Œæ”¯æŒæœå‹™ç«¯çµ„ä»¶å’Œæµå¼æ¸²æŸ“
- **API Routes**ï¼šå…§ç½® API ç«¯é»ï¼Œè™•ç†è±†ç“£æ•¸æ“šå’Œè¦–é »æºä»£ç†
- **Service Worker**ï¼šé›¢ç·šç·©å­˜å’Œæ™ºèƒ½é åŠ è¼‰
- **Server Components**ï¼šå„ªåŒ–é¦–å±åŠ è¼‰æ€§èƒ½
- **Client Components**ï¼šè¤‡é›œäº¤äº’å’Œç‹€æ…‹ç®¡ç†

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### åœ¨ç·šé«”é©—

è¨ªå• **[https://kvideo.vercel.app/](https://kvideo.vercel.app/)** ç«‹å³é«”é©—ï¼Œç„¡éœ€å®‰è£ï¼

### éƒ¨ç½²åˆ°è‡ªå·±çš„æœå‹™å™¨





#### é¸é … 1ï¼šVercel ä¸€éµéƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/KuekHaoYang/KVideo)

1. é»æ“Šä¸Šæ–¹æŒ‰éˆ•
2. é€£æ¥ä½ çš„ GitHub è³¬è™Ÿ
3. Vercel æœƒè‡ªå‹•æª¢æ¸¬ Next.js é …ç›®ä¸¦éƒ¨ç½²
4. å¹¾åˆ†é˜å¾Œå³å¯è¨ªå•ä½ è‡ªå·±çš„ KVideo å¯¦ä¾‹

#### é¸é … 2ï¼šCloudflare Pages éƒ¨ç½² (æ¨è–¦)

æ­¤æ–¹æ³•å®Œå…¨å…è²»ä¸”é€Ÿåº¦æ¥µå¿«ï¼Œæ˜¯éƒ¨ç½²æœ¬é …ç›®çš„æœ€ä½³é¸æ“‡ã€‚

1. **Fork æœ¬å€‰åº«**ï¼šé¦–å…ˆå°‡é …ç›® Fork åˆ°ä½ çš„ GitHub è³¬æˆ¶ã€‚

2. **å‰µå»ºé …ç›®**ï¼š
   - é»æ“Šè¨ªå• [**Cloudflare Pages - Connect Git**](https://dash.cloudflare.com/?to=/:account/pages/new/provider/github)ã€‚
   - å¦‚æœæœªé€£æ¥ GitHubï¼Œè«‹é»æ“Š **Connect GitHub**ï¼›è‹¥å·²é€£æ¥ï¼Œç›´æ¥é¸æ“‡ä½ å‰›å‰› Fork çš„ `KVideo` é …ç›®ä¸¦é»æ“Š **Begin setup**ã€‚

3. **é…ç½®æ§‹å»ºåƒæ•¸**ï¼š
   - **Project name**: é»˜èªçˆ² `kvideo` (å»ºè­°ä¿æŒä¸è®Šï¼Œå¾ŒçºŒéˆæ¥åŸºæ–¼æ­¤åç¨±)
   - **Framework Preset**: é¸æ“‡ `Next.js`
   - **Build command**: è¼¸å…¥ `npm run pages:build`
   - **Build output directory**: è¼¸å…¥ `.vercel/output/static`
   - é»æ“Š **Save and Deploy**ã€‚

4. **âš ï¸ é—œéµæ­¥é©Ÿï¼šä¿®å¾©é‹è¡Œæ™‚ç’°å¢ƒ**
   > *æ³¨æ„ï¼šæ­¤æ™‚éƒ¨ç½²é›–ç„¶é¡¯ç¤º"Success"ï¼Œä½†ä½ æœƒç™¼ç¾è¨ªå•ç¶²é æœƒå ±éŒ¯ã€‚é€™æ˜¯å› çˆ²ç¼ºå°‘å¿…è¦çš„å…¼å®¹æ€§é…ç½®ã€‚è«‹æŒ‰ä»¥ä¸‹æ­¥é©Ÿä¿®å¾©ï¼š*

   - é€²å…¥ **[é …ç›®è¨­ç½®é é¢](https://dash.cloudflare.com/?to=/:account/pages/view/kvideo/settings/production)** (å¦‚æœä½ çš„é …ç›®åä¸æ˜¯ kvideoï¼Œè«‹åœ¨æ§åˆ¶æª¯æ‰‹å‹•æŸ¥æ‰¾ Settings -> Functions)ã€‚
   - æ‹‰åˆ°é é¢åº•éƒ¨æ‰¾åˆ° **Compatibility flags** éƒ¨åˆ†ã€‚
   - æ·»åŠ æ¨™èªŒï¼š`nodejs_compat`

5. **é‡è©¦éƒ¨ç½² (ç”Ÿæ•ˆé…ç½®)**ï¼š
   - å›åˆ° **[é …ç›®æ¦‚è¦½é é¢](https://dash.cloudflare.com/?to=/:account/pages/view/kvideo)**ã€‚
   - åœ¨ **Deployments** åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°æœ€æ–°çš„é‚£æ¬¡éƒ¨ç½²ã€‚
   - é»æ“Šå³å´çš„ä¸‰å€‹é» `...` èœå–®ï¼Œé¸æ“‡ **Retry deployment**ã€‚
   - ç­‰å¾…æ–°çš„éƒ¨ç½²å®Œæˆå¾Œï¼Œä½ çš„ KVideo å°±éƒ¨ç½²æˆåŠŸäº†ï¼

#### é¸é … 3ï¼šDocker éƒ¨ç½²

**å¾ Docker Hub æ‹‰å–ï¼ˆæœ€ç°¡å–®ï¼‰ï¼š**

```bash
# æ‹‰å–æœ€æ–°ç‰ˆæœ¬
docker pull kuekhaoyang/kvideo:latest
docker run -d -p 3000:3000 --name kvideo kuekhaoyang/kvideo:latest
```

æ‡‰ç”¨å°‡åœ¨ `http://localhost:3000` å•“å‹•ã€‚

> **âœ¨ å¤šæ¶æ§‹æ”¯æŒ**ï¼šé¡åƒæ”¯æŒ 2 ç¨®ä¸»æµå¹³è‡ºæ¶æ§‹ï¼š
> - `linux/amd64` - Intel/AMD 64ä½ï¼ˆå¤§å¤šæ•¸æœå‹™å™¨ã€PCã€Intel Macï¼‰
> - `linux/arm64` - ARM 64ä½ï¼ˆApple Silicon Macã€AWS Gravitonã€æ¨¹è“æ´¾ 4/5ï¼‰

**è‡ªå·±æ§‹å»ºé¡åƒï¼š**

```bash
git clone https://github.com/KuekHaoYang/KVideo.git
cd KVideo
docker build -t kvideo .
docker run -d -p 3000:3000 --name kvideo kvideo
```

**ä½¿ç”¨ Docker Composeï¼š**

```bash
docker-compose up -d
```

#### é¸é … 4ï¼šå‚³çµ± Node.js éƒ¨ç½²

```bash
# 1. å…‹éš†å€‰åº«
git clone https://github.com/KuekHaoYang/KVideo.git
cd KVideo

# 2. å®‰è£ä¾è³´
npm install

# 3. æ§‹å»ºé …ç›®
npm run build

# 4. å•“å‹•ç”Ÿç”¢æœå‹™å™¨
npm start
```

æ‡‰ç”¨å°‡åœ¨ `http://localhost:3000` å•“å‹•ã€‚

## ğŸ”„ å¦‚ä½•æ›´æ–°

### Vercel éƒ¨ç½²

Vercel æœƒè‡ªå‹•æª¢æ¸¬ GitHub å€‰åº«çš„æ›´æ–°ä¸¦é‡æ–°éƒ¨ç½²ï¼Œç„¡éœ€æ‰‹å‹•æ“ä½œã€‚

### Docker éƒ¨ç½²

ç•¶æœ‰æ–°ç‰ˆæœ¬ç™¼ä½ˆæ™‚ï¼š

```bash
# åœæ­¢ä¸¦åˆªé™¤èˆŠå®¹å™¨
docker stop kvideo
docker rm kvideo

# æ‹‰å–æœ€æ–°é¡åƒ
docker pull kuekhaoyang/kvideo:latest

# é‹è¡Œæ–°å®¹å™¨
docker run -d -p 3000:3000 --name kvideo kuekhaoyang/kvideo:latest
```

### Node.js éƒ¨ç½²

```bash
cd KVideo
git pull origin main
npm install
npm run build
npm start
```

> **ğŸ”„ è‡ªå‹•åŒ–éƒ¨ç½²**ï¼šæœ¬é …ç›®ä½¿ç”¨ GitHub Actions è‡ªå‹•æ§‹å»ºå’Œç™¼ä½ˆ Docker é¡åƒã€‚æ¯æ¬¡ä»£ç¢¼æ¨é€åˆ° main åˆ†æ”¯æ™‚ï¼Œæœƒè‡ªå‹•æ§‹å»ºå¤šæ¶æ§‹é¡åƒä¸¦æ¨é€åˆ° Docker Hubã€‚

## ğŸ¤ è²¢ç»ä»£ç¢¼

æˆ‘å€‘éå¸¸æ­¡è¿å„ç¨®å½¢å¼çš„è²¢ç»ï¼ç„¡è«–æ˜¯å ±å‘Š Bugã€æå‡ºæ–°åŠŸèƒ½å»ºè­°ã€æ”¹é€²æ–‡æª”ï¼Œé‚„æ˜¯æäº¤ä»£ç¢¼ï¼Œä½ çš„æ¯ä¸€ä»½è²¢ç»éƒ½è®“é€™å€‹é …ç›®è®Šå¾—æ›´å¥½ã€‚

**æƒ³è¦åƒèˆ‡é–‹ç™¼ï¼Ÿè«‹æŸ¥çœ‹ [è²¢ç»æŒ‡å—](CONTRIBUTING.md) ç­è§£è©³ç´°çš„é–‹ç™¼è¦ç¯„å’Œæµç¨‹ã€‚**

å¿«é€Ÿé–‹å§‹ï¼š
1. **å ±å‘Š Bug**ï¼š[æäº¤ Issue](https://github.com/KuekHaoYang/KVideo/issues)
2. **åŠŸèƒ½å»ºè­°**ï¼šåœ¨ Issues ä¸­æå‡ºä½ çš„æƒ³æ³•
3. **ä»£ç¢¼è²¢ç»**ï¼šFork â†’ Branch â†’ PR
4. **æ–‡æª”æ”¹é€²**ï¼šç›´æ¥æäº¤ PR

## ğŸ“„ è¨±å¯è­‰

æœ¬é …ç›®åŸºæ–¼ [MIT è¨±å¯è­‰](LICENSE) é–‹æºã€‚

## ğŸ™ è‡´è¬

æ„Ÿè¬ä»¥ä¸‹é–‹æºé …ç›®ï¼š

- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Zustand](https://github.com/pmndrs/zustand) - ç‹€æ…‹ç®¡ç†
- [React](https://react.dev/) - UI åº«

## ğŸ“ è¯ç¹«æ–¹å¼

- **ä½œè€…**ï¼š[KuekHaoYang](https://github.com/KuekHaoYang)
- **é …ç›®ä¸»é **ï¼š[https://github.com/KuekHaoYang/KVideo](https://github.com/KuekHaoYang/KVideo)
- **å•é¡Œåé¥‹**ï¼š[GitHub Issues](https://github.com/KuekHaoYang/KVideo/issues)





---

<div align="center">
  Made with â¤ï¸ by <a href="https://github.com/KuekHaoYang">KuekHaoYang</a>
  <br>
  å¦‚æœé€™å€‹é …ç›®å°ä½ æœ‰å¹«åŠ©ï¼Œè«‹è€ƒæ…®çµ¦ä¸€å€‹ â­ï¸
</div>

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=KuekHaoYang/KVideo&type=date&legend=top-left)](https://www.star-history.com/#KuekHaoYang/KVideo&type=date&legend=top-left)
